<body>
<svg width="100%" height="100%">
</svg>
</body>
<script src="d3/d3.min.js"></script>
<script>

var color = d3.scale.category20();
var scale = d3.scale.linear().domain([1,9]).range([1,100]);
var update = d3.select("svg").selectAll("rect").data([3,1,4,1,5,9]);
update.enter().append("rect");
update.exit().remove();
d3.select("svg").selectAll("rect").attr({
  x: function(d,i) { return i * 12; },
  y: 10,
  width: 10,
  height: function(d,i) { return scale(d); },
  fill: function(d,i) { return  color(d, i)}
});

</script>
